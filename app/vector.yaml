sources:
  my_stdin:
    type: stdin

transforms:
  parse_logs:
    type: remap
    inputs: ["my_stdin"]
    source: |
      . = parse_syslog!(.message)  # Parse the 'message' field
      .level = "UNKNOWN"
      if exists(.severity) {
        .level = downcase!(.severity)
      }
      del(.timestamp) # Remove original timestamp, to demonstrate parsing

sinks:
  my_stdout:
    type: console
    inputs: ["parse_logs"]
    encoding:
      codec: json