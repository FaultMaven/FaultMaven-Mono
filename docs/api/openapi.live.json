{
  "openapi": "3.1.0",
  "info": {
    "title": "FaultMaven API",
    "description": "AI-powered troubleshooting assistant for Engineers, SREs, and DevOps professionals",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/data/": {
      "post": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Upload Data Compat",
        "description": "Compatibility endpoint for legacy tests - delegates to main upload function\n\nThis endpoint maintains backward compatibility for existing tests that\nexpect POST to /data instead of /data/upload.",
        "operationId": "upload_data_compat_api_v1_data__post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_data_compat_api_v1_data__post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/upload": {
      "post": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Upload Data",
        "description": "Upload and process data with clean delegation pattern\n\nThis endpoint follows the thin controller pattern:\n1. Basic input validation (file size, type)\n2. Pure delegation to service layer for all business logic\n3. Clean error boundary handling\n\nArgs:\n    file: File to upload\n    session_id: Session identifier \n    description: Optional description of the data\n    data_service: Injected DataService from DI container\n    \nReturns:\n    UploadedData with processing results\n    \nRaises:\n    HTTPException: On service layer errors (400, 404, 413, 500)",
        "operationId": "upload_data_api_v1_data_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_data_api_v1_data_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/batch-upload": {
      "post": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Batch Upload Data",
        "description": "Batch upload multiple files with clean delegation\n\nArgs:\n    files: List of files to upload\n    session_id: Session identifier\n    data_service: Injected DataService\n    \nReturns:\n    List of UploadedData results",
        "operationId": "batch_upload_data_api_v1_data_batch_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_batch_upload_data_api_v1_data_batch_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UploadedData"
                  },
                  "type": "array",
                  "title": "Response Batch Upload Data Api V1 Data Batch Upload Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/{data_id}/analyze": {
      "post": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Analyze Data",
        "description": "Analyze uploaded data with clean delegation\n\nArgs:\n    data_id: Data identifier to analyze\n    analysis_request: Request containing session_id and analysis parameters\n    data_service: Injected DataService\n    \nReturns:\n    DataInsightsResponse with analysis results",
        "operationId": "analyze_data_api_v1_data__data_id__analyze_post",
        "parameters": [
          {
            "name": "data_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Data Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Analysis Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Analyze Data Api V1 Data  Data Id  Analyze Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/sessions/{session_id}": {
      "get": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Get Session Data",
        "description": "Get all data for a session with clean delegation\n\nArgs:\n    session_id: Session identifier\n    limit: Maximum number of results\n    offset: Pagination offset\n    data_service: Injected DataService\n    \nReturns:\n    List of UploadedData for the session",
        "operationId": "get_session_data_api_v1_data_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": 10,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Session Data Api V1 Data Sessions  Session Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/sessions/{session_id}/batch-process": {
      "post": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Batch Process Session Data",
        "description": "Batch process data for a session\n\nArgs:\n    session_id: Session identifier\n    batch_request: Request with data_ids to process\n    data_service: Injected DataService\n    \nReturns:\n    Batch processing job information",
        "operationId": "batch_process_session_data_api_v1_data_sessions__session_id__batch_process_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Batch Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Batch Process Session Data Api V1 Data Sessions  Session Id  Batch Process Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data/health": {
      "get": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint with service delegation\n\nReturns:\n    Service health status",
        "operationId": "health_check_api_v1_data_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/data/{data_id}": {
      "get": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Get Data",
        "description": "Get data by ID\n\nArgs:\n    data_id: Data identifier\n    data_service: Injected DataService\n    \nReturns:\n    Data information",
        "operationId": "get_data_api_v1_data__data_id__get",
        "parameters": [
          {
            "name": "data_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Data Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadedData"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "data_ingestion",
          "data_processing"
        ],
        "summary": "Delete Data",
        "description": "Delete uploaded data with clean delegation\n\nArgs:\n    data_id: Data identifier to delete\n    session_id: Session identifier for access control (query parameter)\n    data_service: Injected DataService\n    \nReturns:\n    Success confirmation",
        "operationId": "delete_data_api_v1_data__data_id__delete",
        "parameters": [
          {
            "name": "data_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Data Id"
            }
          },
          {
            "name": "session_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/documents": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Upload Document",
        "description": "Upload a document to the knowledge base\n\nArgs:\n    file: Document file to upload\n    title: Document title\n    document_type: Type of document\n    tags: Comma-separated tags\n    source_url: Source URL if applicable\n\nReturns:\n    Upload job information",
        "operationId": "upload_document_api_v1_knowledge_documents_post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_document_api_v1_knowledge_documents_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Upload Document Api V1 Knowledge Documents Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "List Documents",
        "description": "List knowledge base documents with optional filtering\n\nArgs:\n    document_type: Filter by document type\n    tags: Filter by tags (comma-separated)\n    limit: Maximum number of documents to return\n    offset: Number of documents to skip\n\nReturns:\n    List of documents",
        "operationId": "list_documents_api_v1_knowledge_documents_get",
        "parameters": [
          {
            "name": "document_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Type"
            }
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response List Documents Api V1 Knowledge Documents Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/documents/{document_id}": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Document",
        "description": "Get a specific knowledge base document\n\nArgs:\n    document_id: Document identifier\n\nReturns:\n    Document details",
        "operationId": "get_document_api_v1_knowledge_documents__document_id__get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeBaseDocument"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Delete Document",
        "description": "Delete a knowledge base document\n\nArgs:\n    document_id: Document identifier\n\nReturns:\n    Deletion confirmation",
        "operationId": "delete_document_api_v1_knowledge_documents__document_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Update Document",
        "description": "Update document metadata and content.",
        "operationId": "update_document_api_v1_knowledge_documents__document_id__put",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Update Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Update Document Api V1 Knowledge Documents  Document Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/jobs/{job_id}": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Job Status",
        "description": "Get the status of a knowledge base ingestion job\n\nArgs:\n    job_id: Job identifier\n\nReturns:\n    Job status information",
        "operationId": "get_job_status_api_v1_knowledge_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Job Status Api V1 Knowledge Jobs  Job Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/search": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Search Documents",
        "description": "Search knowledge base documents\n\nArgs:\n    request: Search request with query and filters\n\nReturns:\n    Search results",
        "operationId": "search_documents_api_v1_knowledge_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Search Documents Api V1 Knowledge Search Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/documents/bulk-update": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Bulk Update Documents",
        "description": "Bulk update document metadata.",
        "operationId": "bulk_update_documents_api_v1_knowledge_documents_bulk_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Bulk Update Documents Api V1 Knowledge Documents Bulk Update Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/documents/bulk-delete": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Bulk Delete Documents",
        "description": "Bulk delete documents.",
        "operationId": "bulk_delete_documents_api_v1_knowledge_documents_bulk_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Bulk Delete Documents Api V1 Knowledge Documents Bulk Delete Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/stats": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Knowledge Stats",
        "description": "Get knowledge base statistics.",
        "operationId": "get_knowledge_stats_api_v1_knowledge_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Knowledge Stats Api V1 Knowledge Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/analytics/search": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Search Analytics",
        "description": "Get search analytics and insights.",
        "operationId": "get_search_analytics_api_v1_knowledge_analytics_search_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Search Analytics Api V1 Knowledge Analytics Search Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/documents": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Upload Document Kb",
        "description": "Upload a document to the knowledge base (kb prefix)",
        "operationId": "upload_document_kb_api_v1_kb_documents_post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_document_kb_api_v1_kb_documents_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Upload Document Kb Api V1 Kb Documents Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "List Documents Kb",
        "description": "List knowledge base documents (kb prefix)",
        "operationId": "list_documents_kb_api_v1_kb_documents_get",
        "parameters": [
          {
            "name": "document_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Document Type"
            }
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response List Documents Kb Api V1 Kb Documents Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/documents/{document_id}": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Document Kb",
        "description": "Get a specific document (kb prefix)",
        "operationId": "get_document_kb_api_v1_kb_documents__document_id__get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeBaseDocument"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Delete Document Kb",
        "description": "Delete a document (kb prefix)",
        "operationId": "delete_document_kb_api_v1_kb_documents__document_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Update Document Kb",
        "description": "Update document (kb prefix)",
        "operationId": "update_document_kb_api_v1_kb_documents__document_id__put",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Update Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Update Document Kb Api V1 Kb Documents  Document Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/jobs/{job_id}": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Job Status Kb",
        "description": "Get job status (kb prefix)",
        "operationId": "get_job_status_kb_api_v1_kb_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Job Status Kb Api V1 Kb Jobs  Job Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/search": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Search Documents Kb",
        "description": "Search documents (kb prefix)",
        "operationId": "search_documents_kb_api_v1_kb_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Search Documents Kb Api V1 Kb Search Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/documents/bulk-update": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Bulk Update Documents Kb",
        "description": "Bulk update documents (kb prefix)",
        "operationId": "bulk_update_documents_kb_api_v1_kb_documents_bulk_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Bulk Update Documents Kb Api V1 Kb Documents Bulk Update Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/documents/bulk-delete": {
      "post": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Bulk Delete Documents Kb",
        "description": "Bulk delete documents (kb prefix)",
        "operationId": "bulk_delete_documents_kb_api_v1_kb_documents_bulk_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Bulk Delete Documents Kb Api V1 Kb Documents Bulk Delete Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/stats": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Knowledge Stats Kb",
        "description": "Get knowledge stats (kb prefix)",
        "operationId": "get_knowledge_stats_kb_api_v1_kb_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Knowledge Stats Kb Api V1 Kb Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kb/analytics/search": {
      "get": {
        "tags": [
          "knowledge_base",
          "knowledge_base"
        ],
        "summary": "Get Search Analytics Kb",
        "description": "Get search analytics (kb prefix)",
        "operationId": "get_search_analytics_kb_api_v1_kb_analytics_search_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Search Analytics Kb Api V1 Kb Analytics Search Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/": {
      "post": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Create Session",
        "description": "Create a new troubleshooting session.\n\nArgs:\n    request: Session creation parameters\n    user_id: Optional user identifier (query param)\n\nReturns:\n    Session creation response",
        "operationId": "create_session_api_v1_sessions__post",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/SessionCreateRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "List Sessions",
        "description": "List all sessions with optional filtering.\n\nArgs:\n    user_id: Optional user ID filter\n    session_type: Optional session type filter\n    usage_type: Optional usage type filter (alias for session_type)\n    limit: Maximum number of sessions to return\n    offset: Number of sessions to skip\n\nReturns:\n    List of sessions",
        "operationId": "list_sessions_api_v1_sessions__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "session_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Type"
            }
          },
          {
            "name": "usage_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Usage Type"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}": {
      "get": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Get Session",
        "description": "Retrieve a specific session by ID.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Session details",
        "operationId": "get_session_api_v1_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Delete Session",
        "description": "Delete a specific session.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Deletion confirmation",
        "operationId": "delete_session_api_v1_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/cases": {
      "get": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "List Session Cases",
        "description": "List all cases associated with a session.\n\nCRITICAL: Must return 200 [] for empty results, NOT 404\n\nArgs:\n    session_id: Session identifier\n    limit: Maximum number of cases to return (1-100)\n    offset: Number of cases to skip for pagination\n\nReturns:\n    List of cases (empty list if no cases found)",
        "operationId": "list_session_cases_api_v1_sessions__session_id__cases_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "include_empty",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include cases with message_count == 0",
              "default": false,
              "title": "Include Empty"
            },
            "description": "Include cases with message_count == 0"
          },
          {
            "name": "include_archived",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include archived cases",
              "default": false,
              "title": "Include Archived"
            },
            "description": "Include archived cases"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include deleted cases (admin only)",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include deleted cases (admin only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/heartbeat": {
      "post": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Session Heartbeat",
        "description": "Update session activity timestamp (heartbeat).\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Heartbeat confirmation",
        "operationId": "session_heartbeat_api_v1_sessions__session_id__heartbeat_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/stats": {
      "get": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Get Session Stats",
        "description": "Get session statistics and activity summary.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Session statistics",
        "operationId": "get_session_stats_api_v1_sessions__session_id__stats_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/cleanup": {
      "post": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Cleanup Session",
        "description": "Clean up session data and temporary files.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Cleanup confirmation",
        "operationId": "cleanup_session_api_v1_sessions__session_id__cleanup_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/recovery-info": {
      "get": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Get Session Recovery Info",
        "description": "Get session recovery information for restoring lost sessions.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    Recovery information",
        "operationId": "get_session_recovery_info_api_v1_sessions__session_id__recovery_info_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/restore": {
      "post": {
        "tags": [
          "session_management",
          "session_management"
        ],
        "summary": "Restore Session",
        "description": "Restore a session from backup or recovery state.\n\nArgs:\n    session_id: Session identifier\n    restore_request: Restoration parameters\n\nReturns:\n    Restoration confirmation",
        "operationId": "restore_session_api_v1_sessions__session_id__restore_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionRestoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/dev-login": {
      "post": {
        "tags": [
          "authentication",
          "authentication"
        ],
        "summary": "Dev Login",
        "description": "Developer login mock endpoint.\n\nCreates or authenticates a user with minimal validation (username/email only).\nReturns complete ViewState for immediate UI rendering.\n\nArgs:\n    request: DevLoginRequest with username (email)\n    session_service: Injected session service\n    \nReturns:\n    AuthResponse with ViewState containing user context and initial data",
        "operationId": "dev_login_api_v1_auth_dev_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DevLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "authentication",
          "authentication"
        ],
        "summary": "Logout",
        "description": "Logout endpoint to clean up session.\n\nReturns:\n    Success confirmation",
        "operationId": "logout_api_v1_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Logout Api V1 Auth Logout Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/session/{session_id}": {
      "get": {
        "tags": [
          "authentication",
          "authentication"
        ],
        "summary": "Verify Session",
        "description": "Verify existing session and return current ViewState.\n\nUsed by frontend to restore session on app startup.\n\nArgs:\n    session_id: Session ID to verify\n    session_service: Injected session service\n    \nReturns:\n    AuthResponse with current ViewState if session is valid",
        "operationId": "verify_session_api_v1_auth_session__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}": {
      "delete": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Delete Case",
        "description": "Permanently delete a case and all associated data.\n\nThis endpoint provides hard delete functionality. Once deleted, \nthe case and all associated data are permanently removed.\n\nThe operation is idempotent - subsequent requests will return \n204 No Content even if the case has already been deleted.\n\nReturns 204 No Content on success.",
        "operationId": "delete_case_api_v1_cases__case_id__delete",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case",
        "description": "Get a specific case by ID\n\nReturns the full case details including conversation history,\nparticipants, and context information.",
        "operationId": "get_case_api_v1_cases__case_id__get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Case"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Update Case",
        "description": "Update case details\n\nUpdates case metadata such as title, description, status, priority, and tags.\nRequires edit permissions on the case.",
        "operationId": "update_case_api_v1_cases__case_id__put",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaseUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Update Case Api V1 Cases  Case Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Create Case",
        "description": "Create a new troubleshooting case\n\nCreates a new case for tracking troubleshooting sessions and conversations.\nThe case will persist beyond individual session lifetimes.",
        "operationId": "create_case_api_v1_cases__post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaseCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "List Cases",
        "description": "List cases with pagination\n\nReturns a list of cases accessible to the authenticated user.\nAlways returns 200 with raw array (Case[]); returns [] when no results.\nSupports pagination via page/limit parameters with X-Total-Count and Link headers.",
        "operationId": "list_cases_api_v1_cases__get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Limit"
            },
            "description": "Items per page"
          },
          {
            "name": "include_empty",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include cases with message_count == 0",
              "default": false,
              "title": "Include Empty"
            },
            "description": "Include cases with message_count == 0"
          },
          {
            "name": "include_archived",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include archived cases",
              "default": false,
              "title": "Include Archived"
            },
            "description": "Include archived cases"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include deleted cases (admin only)",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include deleted cases (admin only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Case"
                  },
                  "title": "Response List Cases Api V1 Cases  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Create Case",
        "description": "Create a new troubleshooting case\n\nCreates a new case for tracking troubleshooting sessions and conversations.\nThe case will persist beyond individual session lifetimes.",
        "operationId": "create_case_api_v1_cases_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaseCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "List Cases",
        "description": "List cases with pagination\n\nReturns a list of cases accessible to the authenticated user.\nAlways returns 200 with raw array (Case[]); returns [] when no results.\nSupports pagination via page/limit parameters with X-Total-Count and Link headers.",
        "operationId": "list_cases_api_v1_cases_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Limit"
            },
            "description": "Items per page"
          },
          {
            "name": "include_empty",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include cases with message_count == 0",
              "default": false,
              "title": "Include Empty"
            },
            "description": "Include cases with message_count == 0"
          },
          {
            "name": "include_archived",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include archived cases",
              "default": false,
              "title": "Include Archived"
            },
            "description": "Include archived cases"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include deleted cases (admin only)",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include deleted cases (admin only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Case"
                  },
                  "title": "Response List Cases Api V1 Cases Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/share": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Share Case",
        "description": "Share a case with another user\n\nGrants access to the case for the specified user with the given role.\nRequires share permissions on the case.",
        "operationId": "share_case_api_v1_cases__case_id__share_post",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaseShareRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Share Case Api V1 Cases  Case Id  Share Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/generate-title": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Generate Case Title",
        "description": "Generate a concise title for a case using LLM analysis\n\nAnalyzes the case conversation context and generates a 4-6 word title.\nFalls back to using the first few words of the initial message if needed.",
        "operationId": "generate_case_title_api_v1_cases__case_id__generate_title_post",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Generate Case Title Api V1 Cases  Case Id  Generate Title Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/archive": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Archive Case",
        "description": "Archive a case\n\nArchives the case, marking it as completed and removing it from active lists.\nRequires owner or collaborator permissions.",
        "operationId": "archive_case_api_v1_cases__case_id__archive_post",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "reason",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Reason for archiving",
              "title": "Reason"
            },
            "description": "Reason for archiving"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Archive Case Api V1 Cases  Case Id  Archive Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/search": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Search Cases",
        "description": "Search cases by content\n\nSearches case titles, descriptions, and optionally message content\nfor the specified query terms.",
        "operationId": "search_cases_api_v1_cases_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaseSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/CaseSummary"
                  },
                  "type": "array",
                  "title": "Response Search Cases Api V1 Cases Search Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/conversation": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Conversation Context",
        "description": "Get conversation messages for a case\n\nReturns conversation history as JSON array of messages.\nEach message: { message_id, role: user|agent, content, created_at }",
        "operationId": "get_case_conversation_context_api_v1_cases__case_id__conversation_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "description": "Maximum number of messages to include",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of messages to include"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/analytics": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Analytics",
        "description": "Get case analytics and metrics\n\nReturns analytics data including message counts, participant activity,\nresolution time, and other case metrics.",
        "operationId": "get_case_analytics_api_v1_cases__case_id__analytics_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Case Analytics Api V1 Cases  Case Id  Analytics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/messages": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "List Case Messages",
        "description": "Return conversation messages for a case in a UI-friendly format.\nEach item: { message_id, role: user|agent, content, created_at }",
        "operationId": "list_case_messages_api_v1_cases__case_id__messages_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/sessions/{session_id}/case": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Create Case For Session",
        "description": "Create or get case for a session\n\nAssociates a case with the given session. If no case exists, creates a new one.\nIf force_new is true, always creates a new case.",
        "operationId": "create_case_for_session_api_v1_cases_sessions__session_id__case_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "title",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Case title",
              "title": "Title"
            },
            "description": "Case title"
          },
          {
            "name": "force_new",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force creation of new case",
              "default": false,
              "title": "Force New"
            },
            "description": "Force creation of new case"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Create Case For Session Api V1 Cases Sessions  Session Id  Case Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/sessions/{session_id}/resume/{case_id}": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Resume Case In Session",
        "description": "Resume an existing case in a session\n\nLinks the session to an existing case, allowing the user to continue\na previous troubleshooting conversation.",
        "operationId": "resume_case_in_session_api_v1_cases_sessions__session_id__resume__case_id__post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Resume Case In Session Api V1 Cases Sessions  Session Id  Resume  Case Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/queries": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Submit Case Query",
        "description": "Submit a query to a case.\n\nCRITICAL: Must return 201 (sync) or 202 (async) per OpenAPI spec, NOT 404\n\nArgs:\n    case_id: Case identifier  \n    request: FastAPI request containing query data\n\nReturns:\n    201 with immediate result OR 202 with job Location for async processing",
        "operationId": "submit_case_query_api_v1_cases__case_id__queries_post",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "List Case Queries",
        "description": "List queries for a specific case with pagination.\n\nCRITICAL: Must return 200 [] for empty results, NOT 404",
        "operationId": "list_case_queries_api_v1_cases__case_id__queries_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/queries/{query_id}": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Query",
        "description": "Get query status and result (for async polling).\n\nReturns 200 with AgentResponse when completed, or 202 with QueryJobStatus while processing.\nSupports Retry-After header for polling guidance.",
        "operationId": "get_case_query_api_v1_cases__case_id__queries__query_id__get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "query_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/queries/{query_id}/result": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Query Result",
        "description": "Return the final AgentResponse for a completed query.",
        "operationId": "get_case_query_result_api_v1_cases__case_id__queries__query_id__result_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "query_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/health": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Service Health",
        "description": "Get case service health status\n\nReturns health information about the case persistence system,\nincluding connectivity and performance metrics.",
        "operationId": "get_case_service_health_api_v1_cases_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Case Service Health Api V1 Cases Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/data": {
      "post": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Upload Case Data",
        "description": "Upload data file to a specific case.\n\nAssociates uploaded data with the case for context-aware troubleshooting.\nReturns 201 with Location header pointing to the created data resource.",
        "operationId": "upload_case_data_api_v1_cases__case_id__data_post",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Description of uploaded data",
              "title": "Description"
            },
            "description": "Description of uploaded data"
          },
          {
            "name": "expected_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Expected data type",
              "title": "Expected Type"
            },
            "description": "Expected data type"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "List Case Data",
        "description": "List data files associated with a case.\n\nReturns array of data records with pagination headers.\nAlways returns 200 with empty array if no data exists.",
        "operationId": "list_case_data_api_v1_cases__case_id__data_get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of items to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of items to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cases/{case_id}/data/{data_id}": {
      "get": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Get Case Data",
        "description": "Get specific data file details for a case.",
        "operationId": "get_case_data_api_v1_cases__case_id__data__data_id__get",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "data_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Data Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Case Data Api V1 Cases  Case Id  Data  Data Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "case_persistence",
          "cases"
        ],
        "summary": "Delete Case Data",
        "description": "Remove data file from a case. Returns 204 No Content on success.",
        "operationId": "delete_case_data_api_v1_cases__case_id__data__data_id__delete",
        "parameters": [
          {
            "name": "case_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Case Id"
            }
          },
          {
            "name": "data_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Data Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/{job_id}": {
      "get": {
        "tags": [
          "job_management",
          "job_management"
        ],
        "summary": "Get Job Status",
        "description": "Get job status with proper polling semantics\n\nImplements consistent job polling with appropriate headers:\n- 200 OK for running/pending jobs with Retry-After header\n- 303 See Other redirect for completed jobs with results\n- 200 OK for failed/cancelled jobs (terminal states)",
        "operationId": "get_job_status_api_v1_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobStatus"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "job_management",
          "job_management"
        ],
        "summary": "Cancel Job",
        "description": "Cancel a running job\n\nAttempts to cancel a job if it's still in a cancellable state.\nReturns 204 No Content on success.",
        "operationId": "cancel_job_api_v1_jobs__job_id__delete",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/": {
      "get": {
        "tags": [
          "job_management",
          "job_management"
        ],
        "summary": "List Jobs",
        "description": "List jobs with optional filtering and pagination\n\nReturns a paginated list of jobs with proper pagination headers.\nSupports filtering by job status.",
        "operationId": "list_jobs_api_v1_jobs__get",
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job status",
              "title": "Status Filter"
            },
            "description": "Filter by job status"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Result offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Result offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/JobStatus"
                  },
                  "title": "Response List Jobs Api V1 Jobs  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/jobs/health": {
      "get": {
        "tags": [
          "job_management",
          "job_management"
        ],
        "summary": "Get Job Service Health",
        "description": "Get job service health status\n\nReturns health information about the job management system,\nincluding connectivity and performance metrics.",
        "operationId": "get_job_service_health_api_v1_jobs_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Job Service Health Api V1 Jobs Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/debug/routes": {
      "get": {
        "summary": "Debug Routes",
        "description": "List all registered routes (path + methods).",
        "operationId": "debug_routes_debug_routes_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/debug/health": {
      "get": {
        "summary": "Debug Health",
        "description": "Minimal debug health endpoint.",
        "operationId": "debug_health_debug_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/protection/health": {
      "get": {
        "tags": [
          "protection",
          "protection"
        ],
        "summary": "Get Protection Health",
        "description": "Get protection system health status\n\nReturns comprehensive health information for both basic and intelligent\nprotection components including middleware status and configuration validation.\n\nReturns:\n    Dict with protection system health status, active components, and validation results\n    \nRaises:\n    HTTPException: On service layer errors (503, 500)",
        "operationId": "get_protection_health_api_v1_protection_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Protection Health Api V1 Protection Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/protection/metrics": {
      "get": {
        "tags": [
          "protection",
          "protection"
        ],
        "summary": "Get Protection Metrics",
        "description": "Get protection system metrics for monitoring\n\nReturns detailed metrics for rate limiting, request deduplication, \nbehavioral analysis, ML anomaly detection, and reputation system.\n\nReturns:\n    Dict with protection system metrics including request counts, \n    protection rates, and component-specific statistics\n    \nRaises:\n    HTTPException: On service layer errors (503, 500)",
        "operationId": "get_protection_metrics_api_v1_protection_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Protection Metrics Api V1 Protection Metrics Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/protection/config": {
      "get": {
        "tags": [
          "protection",
          "protection"
        ],
        "summary": "Get Protection Config",
        "description": "Get current protection system configuration\n\nReturns sanitized configuration information (no sensitive data)\nfor both basic and intelligent protection components.\n\nReturns:\n    Dict with protection configuration including enabled features,\n    rate limits, timeouts, and security settings (sanitized)\n    \nRaises:\n    HTTPException: On service layer errors (503, 500)",
        "operationId": "get_protection_config_api_v1_protection_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "object"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Protection Config Api V1 Protection Config Get"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint with API information.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Enhanced health check endpoint with component-specific metrics and SLA monitoring.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/dependencies": {
      "get": {
        "summary": "Health Check Dependencies",
        "description": "Enhanced detailed health check for all dependencies with SLA metrics",
        "operationId": "health_check_dependencies_health_dependencies_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/readiness": {
      "get": {
        "summary": "Readiness",
        "description": "Readiness probe: return unready if Redis or ChromaDB are unavailable.",
        "operationId": "readiness_readiness_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/logging": {
      "get": {
        "summary": "Logging Health Check",
        "description": "Get logging system health status.",
        "operationId": "logging_health_check_health_logging_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/sla": {
      "get": {
        "summary": "Health Check Sla",
        "description": "Get SLA status and metrics for all components.",
        "operationId": "health_check_sla_health_sla_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/components/{component_name}": {
      "get": {
        "summary": "Health Check Component",
        "description": "Get detailed health information for a specific component.",
        "operationId": "health_check_component_health_components__component_name__get",
        "parameters": [
          {
            "name": "component_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Component Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/patterns": {
      "get": {
        "summary": "Health Check Error Patterns",
        "description": "Get error patterns and recovery information from enhanced error context.",
        "operationId": "health_check_error_patterns_health_patterns_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics/performance": {
      "get": {
        "summary": "Get Performance Metrics",
        "description": "Get comprehensive performance metrics.",
        "operationId": "get_performance_metrics_metrics_performance_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics/realtime": {
      "get": {
        "summary": "Get Realtime Metrics",
        "description": "Get real-time performance metrics.",
        "operationId": "get_realtime_metrics_metrics_realtime_get",
        "parameters": [
          {
            "name": "time_window_minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 5,
              "title": "Time Window Minutes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/metrics/alerts": {
      "get": {
        "summary": "Get Alert Status",
        "description": "Get current alert status and statistics.",
        "operationId": "get_alert_status_metrics_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics/optimization": {
      "get": {
        "summary": "Get System Optimization Metrics",
        "description": "Get comprehensive system optimization metrics.",
        "operationId": "get_system_optimization_metrics_metrics_optimization_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/optimization/trigger-cleanup": {
      "get": {
        "summary": "Trigger System Cleanup",
        "description": "Trigger comprehensive system cleanup and optimization.",
        "operationId": "trigger_system_cleanup_admin_optimization_trigger_cleanup_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AgentResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "response_type": {
            "$ref": "#/components/schemas/ResponseType"
          },
          "view_state": {
            "$ref": "#/components/schemas/ViewState"
          },
          "sources": {
            "items": {
              "$ref": "#/components/schemas/Source"
            },
            "type": "array",
            "title": "Sources"
          },
          "plan": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PlanStep"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan"
          }
        },
        "type": "object",
        "required": [
          "content",
          "response_type",
          "view_state"
        ],
        "title": "AgentResponse",
        "description": "The single, unified JSON payload returned from the backend."
      },
      "AuthResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "default": true
          },
          "view_state": {
            "$ref": "#/components/schemas/ViewState"
          }
        },
        "type": "object",
        "required": [
          "view_state"
        ],
        "title": "AuthResponse",
        "description": "Response payload for authentication operations with ViewState."
      },
      "Body_batch_upload_data_api_v1_data_batch_upload_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          }
        },
        "type": "object",
        "required": [
          "files",
          "session_id"
        ],
        "title": "Body_batch_upload_data_api_v1_data_batch_upload_post"
      },
      "Body_upload_data_api_v1_data_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "file",
          "session_id"
        ],
        "title": "Body_upload_data_api_v1_data_upload_post"
      },
      "Body_upload_data_compat_api_v1_data__post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "file",
          "session_id"
        ],
        "title": "Body_upload_data_compat_api_v1_data__post"
      },
      "Body_upload_document_api_v1_knowledge_documents_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "file",
          "title",
          "document_type"
        ],
        "title": "Body_upload_document_api_v1_knowledge_documents_post"
      },
      "Body_upload_document_kb_api_v1_kb_documents_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type",
            "default": "troubleshooting_guide"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "file",
          "title"
        ],
        "title": "Body_upload_document_kb_api_v1_kb_documents_post"
      },
      "Case": {
        "properties": {
          "case_id": {
            "type": "string",
            "title": "Case Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "resolved",
              "archived"
            ],
            "title": "Status",
            "default": "active"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ],
            "title": "Priority",
            "default": "medium"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "default": 0
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          }
        },
        "type": "object",
        "required": [
          "case_id",
          "title"
        ],
        "title": "Case",
        "description": "Represents a troubleshooting case."
      },
      "CaseCreateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "title": "Title",
            "description": "Case title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Case description"
          },
          "priority": {
            "$ref": "#/components/schemas/CasePriority",
            "description": "Case priority",
            "default": "medium"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Case tags"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Associated session ID"
          },
          "initial_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Initial Message",
            "description": "Initial case message"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "CaseCreateRequest",
        "description": "Request model for creating a new case"
      },
      "CaseListFilter": {
        "properties": {
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "Filter by participant user ID"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaseStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by case status"
          },
          "priority": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CasePriority"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by case priority"
          },
          "owner_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Id",
            "description": "Filter by case owner"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Filter by tags (any match)"
          },
          "created_after": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created After",
            "description": "Filter by creation date"
          },
          "created_before": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created Before",
            "description": "Filter by creation date"
          },
          "include_empty": {
            "type": "boolean",
            "title": "Include Empty",
            "description": "Include cases with message_count == 0",
            "default": false
          },
          "include_archived": {
            "type": "boolean",
            "title": "Include Archived",
            "description": "Include archived cases",
            "default": false
          },
          "include_deleted": {
            "type": "boolean",
            "title": "Include Deleted",
            "description": "Include deleted cases (admin only)",
            "default": false
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "title": "Limit",
            "description": "Maximum number of results",
            "default": 50
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Result offset for pagination",
            "default": 0
          }
        },
        "type": "object",
        "title": "CaseListFilter",
        "description": "Filter criteria for listing cases"
      },
      "CaseListResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "cases": {
            "items": {
              "$ref": "#/components/schemas/Case"
            },
            "type": "array",
            "title": "Cases"
          }
        },
        "type": "object",
        "required": [
          "cases"
        ],
        "title": "CaseListResponse",
        "description": "Response payload for listing cases."
      },
      "CasePriority": {
        "type": "string",
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "title": "CasePriority",
        "description": "Case priority levels"
      },
      "CaseRequest": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "initial_query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Initial Query"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ],
            "title": "Priority",
            "default": "medium"
          },
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "CaseRequest",
        "description": "Request payload for creating a new case."
      },
      "CaseResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "case": {
            "$ref": "#/components/schemas/Case"
          }
        },
        "type": "object",
        "required": [
          "case"
        ],
        "title": "CaseResponse",
        "description": "Response payload for case creation."
      },
      "CaseSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query",
            "description": "Search query"
          },
          "filters": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaseListFilter"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional filters"
          },
          "search_in_messages": {
            "type": "boolean",
            "title": "Search In Messages",
            "description": "Search in message content",
            "default": true
          },
          "search_in_context": {
            "type": "boolean",
            "title": "Search In Context",
            "description": "Search in case context",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "CaseSearchRequest",
        "description": "Request model for searching cases"
      },
      "CaseShareRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User ID to share with"
          },
          "role": {
            "$ref": "#/components/schemas/ParticipantRole",
            "description": "Role to assign",
            "default": "viewer"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Optional message to include"
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "CaseShareRequest",
        "description": "Request model for sharing a case with other users"
      },
      "CaseStatus": {
        "type": "string",
        "enum": [
          "active",
          "investigating",
          "solved",
          "stalled",
          "archived",
          "shared"
        ],
        "title": "CaseStatus",
        "description": "Case lifecycle status enumeration"
      },
      "CaseSummary": {
        "properties": {
          "case_id": {
            "type": "string",
            "title": "Case Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "status": {
            "$ref": "#/components/schemas/CaseStatus"
          },
          "priority": {
            "$ref": "#/components/schemas/CasePriority"
          },
          "owner_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_activity_at": {
            "type": "string",
            "format": "date-time",
            "title": "Last Activity At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          },
          "participant_count": {
            "type": "integer",
            "title": "Participant Count"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "case_id",
          "title",
          "status",
          "priority",
          "owner_id",
          "created_at",
          "updated_at",
          "last_activity_at",
          "message_count",
          "participant_count",
          "tags"
        ],
        "title": "CaseSummary",
        "description": "Summary view of a case for list operations"
      },
      "CaseUpdateRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Updated case title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated case description"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaseStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated case status"
          },
          "priority": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CasePriority"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated case priority"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Updated case tags"
          }
        },
        "type": "object",
        "title": "CaseUpdateRequest",
        "description": "Request model for updating case details"
      },
      "DataType": {
        "type": "string",
        "enum": [
          "log_file",
          "config_file",
          "error_report",
          "documentation",
          "screenshot",
          "other"
        ],
        "title": "DataType",
        "description": "Defines the type of data uploaded by users."
      },
      "DevLoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          }
        },
        "type": "object",
        "required": [
          "username"
        ],
        "title": "DevLoginRequest",
        "description": "Request payload for developer login."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "JobStatus": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "running",
              "completed",
              "failed"
            ],
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress"
          },
          "result": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "JobStatus",
        "description": "Async job status tracking model."
      },
      "KnowledgeBaseDocument": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Unique document identifier"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Document title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Document content"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type",
            "description": "Type of document (e.g., troubleshooting guide, FAQ)"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Document category for organization"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Document processing status",
            "default": "processed"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "Source URL if applicable"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Document creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional document metadata"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "title",
          "content",
          "document_type"
        ],
        "title": "KnowledgeBaseDocument",
        "description": "Model for knowledge base documents"
      },
      "ParticipantRole": {
        "type": "string",
        "enum": [
          "owner",
          "collaborator",
          "viewer",
          "support"
        ],
        "title": "ParticipantRole",
        "description": "Participant roles in case collaboration"
      },
      "PlanStep": {
        "properties": {
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "description"
        ],
        "title": "PlanStep",
        "description": "Represents one step in a multi-step plan."
      },
      "ProcessingStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed"
        ],
        "title": "ProcessingStatus",
        "description": "Defines the status of data processing operations."
      },
      "QueryRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "query": {
            "type": "string",
            "title": "Query"
          },
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ],
            "title": "Priority",
            "default": "medium"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "query"
        ],
        "title": "QueryRequest",
        "description": "The JSON payload sent from the frontend when the user asks a question.\nNote: case_id is provided in the URL path, not in the request body."
      },
      "ResponseType": {
        "type": "string",
        "enum": [
          "ANSWER",
          "PLAN_PROPOSAL",
          "CLARIFICATION_REQUEST",
          "CONFIRMATION_REQUEST",
          "SOLUTION_READY",
          "NEEDS_MORE_DATA",
          "ESCALATION_REQUIRED",
          "DATA_REQUEST",
          "ERROR"
        ],
        "title": "ResponseType",
        "description": "Defines the agent's primary intent for this turn."
      },
      "SearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query",
            "description": "Search query"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type",
            "description": "Filter by document type"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Filter by document category"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Filter by tags (comma-separated)"
          },
          "filters": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filters",
            "description": "Advanced filters for search"
          },
          "similarity_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Threshold",
            "description": "Minimum similarity score threshold (0.0-1.0)"
          },
          "rank_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rank By",
            "description": "Field to rank results by (e.g., priority)"
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "exclusiveMinimum": 0.0,
            "title": "Limit",
            "description": "Maximum number of results",
            "default": 10
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchRequest",
        "description": "Request model for knowledge base search"
      },
      "SessionCreateRequest": {
        "properties": {
          "timeout_minutes": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Minutes",
            "default": 30
          },
          "session_type": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Type",
            "default": "troubleshooting"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "title": "SessionCreateRequest",
        "description": "Request model for session creation."
      },
      "SessionRequest": {
        "properties": {
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "title": "SessionRequest",
        "description": "Request payload for creating a new session."
      },
      "SessionResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "active"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "created_at"
        ],
        "title": "SessionResponse",
        "description": "Response payload for session operations - API spec compliance."
      },
      "SessionRestoreRequest": {
        "properties": {
          "restore_point": {
            "type": "string",
            "minLength": 1,
            "title": "Restore Point"
          },
          "include_data": {
            "type": "boolean",
            "title": "Include Data",
            "default": true
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type",
            "default": "full"
          }
        },
        "type": "object",
        "required": [
          "restore_point"
        ],
        "title": "SessionRestoreRequest",
        "description": "Request model for session restoration."
      },
      "Source": {
        "properties": {
          "type": {
            "$ref": "#/components/schemas/SourceType"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "type",
          "content"
        ],
        "title": "Source",
        "description": "Represents a single piece of citable evidence to build user trust."
      },
      "SourceType": {
        "type": "string",
        "enum": [
          "knowledge_base",
          "log_file",
          "web_search",
          "documentation",
          "previous_analysis",
          "user_provided"
        ],
        "title": "SourceType",
        "description": "Defines the origin of a piece of evidence."
      },
      "TitleGenerateRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "max_words": {
            "type": "integer",
            "title": "Max Words",
            "default": 8
          }
        },
        "type": "object",
        "required": [
          "session_id"
        ],
        "title": "TitleGenerateRequest",
        "description": "Request payload for conversation title generation."
      },
      "TitleResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "enum": [
              "3.1.0"
            ],
            "const": "3.1.0",
            "title": "Schema Version",
            "default": "3.1.0"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "view_state": {
            "$ref": "#/components/schemas/ViewState"
          }
        },
        "type": "object",
        "required": [
          "title",
          "view_state"
        ],
        "title": "TitleResponse",
        "description": "Response payload for title generation."
      },
      "TroubleshootingResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Session identifier"
          },
          "case_id": {
            "type": "string",
            "title": "Case Id",
            "description": "Unique case identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status of the case"
          },
          "findings": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Findings",
            "description": "Detailed findings from the case"
          },
          "root_cause": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Root Cause",
            "description": "Identified root cause"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Actionable recommendations"
          },
          "confidence_score": {
            "type": "number",
            "title": "Confidence Score",
            "description": "Confidence in the analysis (0.0-1.0)"
          },
          "estimated_mttr": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Mttr",
            "description": "Estimated Mean Time To Resolution"
          },
          "next_steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Next Steps",
            "description": "Recommended next steps"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Case creation timestamp"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "Case completion timestamp"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "case_id",
          "status",
          "findings",
          "recommendations",
          "confidence_score"
        ],
        "title": "TroubleshootingResponse",
        "description": "Response model for troubleshooting results"
      },
      "UploadedData": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "$ref": "#/components/schemas/DataType"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "upload_timestamp": {
            "type": "string",
            "title": "Upload Timestamp"
          },
          "processing_status": {
            "$ref": "#/components/schemas/ProcessingStatus"
          },
          "processing_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Summary"
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Score"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "size_bytes",
          "upload_timestamp",
          "processing_status"
        ],
        "title": "UploadedData",
        "description": "A strongly-typed model for data uploaded by the user."
      },
      "User": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name"
        ],
        "title": "User",
        "description": "Represents a user in the system."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ViewState": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "active_case": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Case"
              },
              {
                "type": "null"
              }
            ]
          },
          "cases": {
            "items": {
              "$ref": "#/components/schemas/Case"
            },
            "type": "array",
            "title": "Cases"
          },
          "messages": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Messages"
          },
          "uploaded_data": {
            "items": {
              "$ref": "#/components/schemas/UploadedData"
            },
            "type": "array",
            "title": "Uploaded Data"
          },
          "show_case_selector": {
            "type": "boolean",
            "title": "Show Case Selector",
            "default": true
          },
          "show_data_upload": {
            "type": "boolean",
            "title": "Show Data Upload",
            "default": true
          },
          "loading_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Loading State"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "user"
        ],
        "title": "ViewState",
        "description": "Comprehensive view state representing the complete frontend rendering state.\nThis is the single source of truth for what the frontend should display."
      }
    }
  }
}